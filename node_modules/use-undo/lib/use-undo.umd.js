!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e["use-undo"]=t(e.react)}(this,function(e){var t={past:[],present:null,future:[]},n=function(e,t){var n=e.past,r=e.present,u=e.future;switch(t.type){case"UNDO":var s=n[n.length-1];return{past:n.slice(0,n.length-1),present:s,future:[r].concat(u)};case"REDO":var a=u[0],c=u.slice(1);return{past:n.concat([r]),present:a,future:c};case"SET":var o=t.newPresent;return o===r?e:{past:n.concat([r]),present:o,future:[]};case"RESET":return{past:[],present:t.newPresent,future:[]}}};return function(r){var u=e.useReducer(n,Object.assign({},t,{present:r})),s=u[0],a=u[1],c=0!==s.past.length,o=0!==s.future.length,p=e.useCallback(function(){c&&a({type:"UNDO"})},[c]),f=e.useCallback(function(){o&&a({type:"REDO"})},[o]);return[s,{set:e.useCallback(function(e){return a({type:"SET",newPresent:e})},[]),reset:e.useCallback(function(e){return a({type:"RESET",newPresent:e})},[]),undo:p,redo:f,canUndo:c,canRedo:o}]}});
