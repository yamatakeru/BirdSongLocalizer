var e=require("react"),t={past:[],present:null,future:[]},n=function(e,t){var n=e.past,r=e.present,u=e.future;switch(t.type){case"UNDO":var s=n[n.length-1];return{past:n.slice(0,n.length-1),present:s,future:[r].concat(u)};case"REDO":var a=u[0],c=u.slice(1);return{past:n.concat([r]),present:a,future:c};case"SET":var p=t.newPresent;return p===r?e:{past:n.concat([r]),present:p,future:[]};case"RESET":return{past:[],present:t.newPresent,future:[]}}};module.exports=function(r){var u=e.useReducer(n,Object.assign({},t,{present:r})),s=u[0],a=u[1],c=0!==s.past.length,p=0!==s.future.length,l=e.useCallback(function(){c&&a({type:"UNDO"})},[c]),o=e.useCallback(function(){p&&a({type:"REDO"})},[p]);return[s,{set:e.useCallback(function(e){return a({type:"SET",newPresent:e})},[]),reset:e.useCallback(function(e){return a({type:"RESET",newPresent:e})},[]),undo:l,redo:o,canUndo:c,canRedo:p}]};
